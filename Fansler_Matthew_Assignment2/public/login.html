<html lang="en">
    <head>
        <script>
    //Authors: Joshua Jerome and Matthew Fansler
    //Source: Html is based off of Lab14
    //Description: Log in page for returning users. In addition, this page allows user to register if their are a new user.
    </script>
    
        <link href="services_style.css" rel="stylesheet">
        <script src="server.js"></script>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <title>Login</title>
        <!--- <link href="login_style.css" rel="stylesheet"> --->

        <script>
            let params = (new URL(document.location)).searchParams;
            if (params.has("LoginError")) {
                window.onload = function () { //shows when the page loads
                loginError = params.get("LoginError"); //get the login error and assign it into the variables
                passSame = '<font color="red">Incorrect Password</font>'; //assigns same error message into a variable
                notReg = params.get("LoginError"); //get the login error and assign it into variable
                if(loginError == passSame) { //if the loginError equals the same error stored in the variable
                    document.getElementById("passwordlabel").innerHTML=loginError; //sets inner html to display the login error
                    loginError = ''; //resets login error to prevent the same error from showing up on page refresh
                } 
                if(loginError == notReg) { //if the loginError equals the same error stored in the variable
                    document.getElementById("theusernamelabel").innerHTML=loginError; //sets inner html to display the login error
                    loginError = ''; //resets login error to prevent the same error from showing up on page refresh
                }
                if (params.has("logStickInput")){ //if has user input from query
                    stickTheInput = params.get("logStickInput"); //get the info and assign into the variable
                    document.getElementById("userBox").value=stickTheInput; //sets the value of the input box to equal what was entered from the user
                    loginError = ''; //resets login error to preventn the same error from showing up on each page
                }
            } 
        } 
        </script>
    
    </head>
    
    <body><h1>Don't Drink and Drive Login</h1>
    
    <h2>Login below to begin!!</h2>
    
        <form name="loginForm" method="POST"> 
            <div>
            <input type="text" name="username" size="40" placeholder="enter username"><br> 
            <input type="password" name="password" size="40" placeholder="enter password"><br>
            <input type="submit" value="login" id="submit">  </div>
            </form>  
    
    
    <h2>Need a ride in the future? New users register below!</h2>
    <a id="registrationpage" href="registration.html"><button type="button">Register here</button></a>
    <div>
    </div>
    <script>
        //Connects the quantity data to pass on to following page
    registrationpage.href = "registration.html" + document.location.search;
    login_form.action = "./login" + document.location.search;
    </script>

    </body>
</html>